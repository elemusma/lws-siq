(()=>{"use strict";function e(){var t=document.getElementsByClassName("header-type");t.length&&Array.from(t).forEach((function(t){var o=t.closest(".wpsf-tab").getElementsByClassName("header-type--text"),l=t.closest(".wpsf-tab").getElementsByClassName("header-type--image");t.classList.contains("flux-field-init")||(t.classList.add("flux-field-init"),t.addEventListener("change",(function(){e(),s()}))),Array.from(o).forEach((function(e){e.closest("tr").style.display="text"===t.value?"":"none"})),Array.from(l).forEach((function(e){e.closest("tr").style.display="image"===t.value?"":"none"}))}))}function t(){var e=document.querySelectorAll(".header-background"),o=document.querySelectorAll(".header-background:checked");o.length&&(Array.from(e).forEach((function(e){e.classList.contains("flux-field-init")||(e.classList.add("flux-field-init"),e.addEventListener("change",(function(){t(),s()})))})),Array.from(o).forEach((function(e){var t=e.closest(".wpsf-tab").getElementsByClassName("header-background--custom"),o=e.closest(".wpsf-tab").getElementsByClassName("header-background--gradient");Array.from(t).forEach((function(t){t.closest("tr").style.display="custom"===e.value?"":"none"})),Array.from(o).forEach((function(t){console.log(t.closest("tr")),console.log("gradient"===e.value?"":"none"),t.closest("tr").style.display="gradient"===e.value?"":"none"}))})))}function o(){var e=document.querySelectorAll(".colour-type"),t=document.querySelectorAll(".colour-type:checked");t.length&&(Array.from(e).forEach((function(e){e.classList.contains("flux-field-init")||(e.classList.add("flux-field-init"),e.addEventListener("change",(function(){o()})))})),Array.from(t).forEach((function(e){var t=e.closest(".wpsf-tab").getElementsByClassName("colour-type--palette"),o=e.closest(".wpsf-tab").getElementsByClassName("colour-type--primary");Array.from(t).forEach((function(t){t.closest("tr").style.display="mdl"===e.value?"":"none"})),Array.from(o).forEach((function(t){t.closest("tr").style.display="custom"===e.value?"":"none"}))})))}function s(){"modern"===jQuery(".flux-theme-type:checked").val()&&(document.getElementById("styles_header_header_font_family").closest("tr").style.display="none",document.getElementById("styles_header_header_font_size").closest("tr").style.display="none",document.getElementById("styles_header_header_font_colour").closest("tr").style.display="none",document.getElementById("styles_header_header_background_primary-color").closest("tr").style.display="none",document.getElementById("styles_header_background").closest("tr").style.display="none",document.getElementById("styles_checkout_primary_color_#f44336").closest("tr").style.display="none",document.getElementById("styles_checkout_accent_color_#f44336").closest("tr").style.display="none",document.getElementById("styles_checkout_custom_primary_color").closest("tr").style.display="none",document.getElementById("styles_checkout_custom_accent_color").closest("tr").style.display="none",document.getElementById("styles_checkout_modern_custom_placeholder_color").closest("tr").style.display="",document.getElementById("styles_checkout_modern_custom_link_color").closest("tr").style.display="",document.getElementById("styles_checkout_modern_custom_primary_button_color").closest("tr").style.display="",document.getElementById("styles_checkout_modern_custom_secondary_button_color").closest("tr").style.display="",document.getElementById("styles_header_cart_icon_color").closest("tr").style.display="none",document.getElementById("styles_checkout_use_custom_colors_custom").closest("tr").style.display="none",document.getElementById("styles_theme_show_sidebar").closest("tr").style.display="none")}function l(){let e=jQuery(".flux-theme-type:checked").val();jQuery(".flux-theme-type").hasClass("flux-field-init")||(jQuery(".flux-theme-type").addClass("flux-field-init"),jQuery(".flux-theme-type").change(l),jQuery(".flux-theme-type").change(s)),"modern"!==e&&(document.getElementById("styles_header_header_font_family").closest("tr").style.display="",document.getElementById("styles_header_header_font_size").closest("tr").style.display="",document.getElementById("styles_header_header_font_colour").closest("tr").style.display="",document.getElementById("styles_header_header_background_primary-color").closest("tr").style.display="",document.getElementById("styles_header_background").closest("tr").style.display="",document.getElementById("styles_checkout_primary_color_#f44336").closest("tr").style.display="",document.getElementById("styles_checkout_accent_color_#f44336").closest("tr").style.display="",document.getElementById("styles_checkout_custom_primary_color").closest("tr").style.display="",document.getElementById("styles_checkout_custom_accent_color").closest("tr").style.display="",document.getElementById("styles_checkout_modern_custom_placeholder_color").closest("tr").style.display="none",document.getElementById("styles_checkout_modern_custom_link_color").closest("tr").style.display="none",document.getElementById("styles_checkout_modern_custom_primary_button_color").closest("tr").style.display="none",document.getElementById("styles_checkout_modern_custom_secondary_button_color").closest("tr").style.display="none",document.getElementById("styles_header_cart_icon_color").closest("tr").style.display="",document.getElementById("styles_checkout_use_custom_colors_custom").closest("tr").style.display="",document.getElementById("styles_theme_show_sidebar").closest("tr").style.display="")}const n=window.wp.element;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)({}).hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},c.apply(null,arguments)}const r=window.wp.components,a=window.wp.i18n,u=e=>{var t=iconic_flux_checkout.flux_url+"images/elements/onboarding/";let o=(0,a.sprintf)((0,a.__)("Not quite sure where to start? We've got you covered! Check out our %1s documentation%2s to learn more about Flux Checkout Elements."),'<a href="https://iconicwp.com/docs/flux-checkout-for-woocommerce/how-to-use-checkout-elements/" target="_blank">',"</a>");return(0,n.createElement)(r.Guide,{className:"edit-post-welcome-guide",onFinish:e.onFinish,pages:[{image:(0,n.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,n.createElement)("img",{src:t+"onboarding-1.png"})),content:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,a.__)("Welcome to Flux Checkout Elements!","flux-checkout")),(0,n.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,a.__)("Checkout Elements allow you to spruce up your WooCommerce checkout process by adding tailored elements like Trust Badges, Testimonials, or anything else that compliments your brand and enhances customer experience.","flux-checkout")))},{image:(0,n.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,n.createElement)("img",{src:t+"onboarding-2.png"})),content:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,a.__)("Position Flexibility","flux-checkout")),(0,n.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,a.__)("Place the Element anywhere you like. With Flux Checkout Elements, your options are limitless. You can determine the positioning, whether itâ€™s after the checkout header, before the footer, or anywhere in between.","flux-checkout")))},{image:(0,n.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,n.createElement)("img",{src:t+"onboarding-3.png"})),content:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,a.__)("Add conditional rules","flux-checkout")),(0,n.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,a.__)("Show or hide specific Elements based on factors like cart products, categories, user roles, or purchase amount.","flux-checkout")))},{image:(0,n.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,n.createElement)("img",{src:t+"onboarding-4.png"})),content:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,a.__)("Learn more about Checkout Elements","flux-checkout")),(0,n.createElement)("p",{className:"edit-post-welcome-guide__text",dangerouslySetInnerHTML:{__html:o}}))}]})},{__}=wp.i18n,i=e=>{const[t,o]=(0,n.useState)(e.defaultOpenPopup);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"fce-welcome-guide-button"},(0,n.createElement)(r.Button,{variant:"default",onClick:()=>o(!0)},__("Welcome Guide","flux-checkout")),t&&(0,n.createElement)(u,c({},e,{onFinish:()=>{const e={action:"flux_elements_welcome_guide_seen",nonce:iconic_flux_checkout.nonce};jQuery.post(iconic_flux_checkout.ajax_url,e),window.fce_show_welcome_screen=!1,o(!1)}}))))};function d(){pagenow.includes("iconic-flux-settings")&&(function(){if(jQuery("#styles_checkout_custom_css_ace_editor").length){var e=ace.edit("styles_checkout_custom_css_ace_editor"),t=document.getElementById("styles_checkout_custom_css");e.setTheme("ace/theme/chrome"),e.session.setMode("ace/mode/css"),e.setOptions({showPrintMargin:!1}),e.getSession().setValue(t.value),e.getSession().on("change",(function(){t.value=e.getSession().getValue()}))}}(),l(),e(),t(),o(),s(),function(){const e=function(e){return`<span class='flux-gradient-preview-dot' style='background: linear-gradient(to left, ${jQuery(e.element).attr("value")} )'></span> ${e.text}`};jQuery("#styles_header_background").select2({templateSelection:e,templateResult:e,escapeMarkup:function(e){return e}})}())}!function(){if("checkout_elements"!==pagenow||!jQuery("body").hasClass("block-editor-page"))return;const{PluginDocumentSettingPanel:e}=wp.editPost,t=()=>"checkout_elements"!==pagenow?null:(0,n.createElement)(e,{name:"flux-welcome-guide",title:(0,a.__)("Flux Checkout Elements","flux-checkout"),className:"welcome-guide"},(0,n.createElement)(i,{defaultOpenPopup:window.fce_show_welcome_screen}));if(wp.plugins.registerPlugin){const{registerPlugin:e}=wp.plugins;e("flux-checkout-elements-onboarding-welcome-guide",{render:t,icon:"welcome-view-site"})}}(),document.addEventListener("DOMContentLoaded",(function(){d(),Vue.createApp({el:".flux-ce",data:function(){return{productOptions:[],categoryOptions:[],all_rules_must_match:!1,enable_rules:!1,rule_condition:"show",rules:[]}},mounted:function(){this.categoryOptions=jQuery(".flux-ce").data("categories");var e=jQuery(".flux-ce").data("settings");e?(this.rules=e.rules?e.rules:this.rules,this.rule_condition=e.rule_condition?e.rule_condition:this.rule_condition,this.enable_rules=e.enable_rules?e.enable_rules:this.enable_rules,this.all_rules_must_match=e.all_rules_must_match?e.all_rules_must_match:this.all_rules_must_match):this.addRule()},components:{vSelect:window["vue-select"]},methods:{addRule:function(){this.rules.push({id:this.generateRandomId(),object:"user_role",condition:"is",value:"",product_options:[],product_cat_options:[]})},deleteRule:function(e){this.rules.forEach(((t,o)=>{t.id==e.id&&this.rules.splice(o,1)}))},generateRandomId:function(){let e=" ";for(let t=0;t<20;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e},fetchProducts:function(e,t){if(!e||e.length<3)t(!1);else{var o=this,s={security:window.iconic_flux_checkout.search_products_nonce,action:"woocommerce_json_search_products",term:e};jQuery.get(window.iconic_flux_checkout.ajax_url,s).done((function(e){var s=[];if(e){for(var l in e)s.push({code:l,label:e[l]});o.productOptions=s,t(!1)}}))}},objectChanged:function(e){e.value=""}},computed:{settings:function(){var e={all_rules_must_match:this.all_rules_must_match,enable_rules:this.enable_rules,rule_condition:this.rule_condition,rules:this.rules};return JSON.stringify(e)}}}).mount(".flux-ce")}))})();