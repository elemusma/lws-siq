!function(t){(sdtdl={...sdtdl,list:{collapse:function(){t(".sdtdl-front").fadeOut(),t(".sdtdl-collapsed").css("display","flex"),sdtdl.cookie.set("list_state","collapsed")},restore:function(){t(".sdtdl-collapsed").hide(),t(".sdtdl-front").fadeIn(),sdtdl.cookie.set("list_state","open")}},dialogs:{init:function(){let o=t(".sdtdl-front"),e=o.data("close"),i="left top",s="right top";o.hasClass("sdtdl-right")&&(i="right top",s="left top"),t(".sdtdl-dialog-content").dialog({autoOpen:!1,position:{my:i,at:s,of:".sdtdl-front"},modal:!1,buttons:[{text:e,click:function(o,e){t(this).dialog("close")}},],classes:{"ui-dialog":"sdtdl-dialog sdtdl-view sdtdl-accent-background sdtdl-accent-border"},closeText:e,dragStop:function(t,o){sdtdl.cookie.update(t,o)},resizeStop:function(t,o){sdtdl.cookie.update(t,o)},open:function(t,o){o=sdtdl.dialogs.check_previous_ui_state(t),sdtdl.cookie.update(t,o)},beforeClose:function(t,o){sdtdl.cookie.update(t,o,"close")},create:function(o){t(o.target).dialog("widget").css({position:"fixed"})}}),sdtdl.dialogs.populate_previous_states()},open:function(){t(".sdtdl-"+sdtdl.item_id).dialog("open")},check_previous_ui_state:function(t){let o=t.target.dataset.id,e={},i=sdtdl.cookie.get();return i.hasOwnProperty(o)&&i[o].hasOwnProperty("position")&&(e.position=i[o].position),e},populate_previous_states:function(){sdtdl.cookie.maintenance();let o=sdtdl.cookie.get();t.each(o,function(o,e){if("list_state"===o||"close"===e.state)return;let i=t(".sdtdl-"+o);e.hasOwnProperty("position")&&(i.dialog("option",{position:{my:"left+"+parseInt(e.position.left,10)+" top+"+parseInt(e.position.top,10),at:"left top",of:window}}),i.dialog("option",{width:parseInt(e.size.width,10),height:parseInt(e.size.height,10)})),i.dialog("open")})}},cookie:{name:"sdtdl_front_state_"+sdtdl.strings.UserID+"_"+sdtdl.strings.BlogID,maintenance:function(){let o=sdtdl.cookie.get(),e=[],i=!1;t(".sdtdl-item").each(function(){e.push(t(this).data("id"))}),t.each(o,function(t,s){"list_state"!==t&&(e.includes(t)||(delete o[t],i=!0))}),!0===i&&sdtdl.cookie.save(o)},update:function(t,o,e=""){let i=t.target.dataset.id,s="open",n=t.target.offsetParent;"close"===e&&(s="close"),sdtdl.cookie.set(i,{position:o.position,size:{height:n.offsetHeight,width:n.offsetWidth},state:s})},save:function(t){let o=new Date;o.setTime(o.getTime()+31536e6),document.cookie=sdtdl.cookie.name+"="+JSON.stringify(t)+";path=/;expires="+o.toUTCString()},get:function(){let t=RegExp(`(^| )${sdtdl.cookie.name}=([^;]+)`),o=document.cookie.match(t);return o?JSON.parse(o[2]):{}},set:function(t,o){let e=sdtdl.cookie.get();e[t]=o,sdtdl.cookie.save(e)}},init:function(){t(document).on("click touchend",".sdtdl-item",function(){sdtdl.item_id=t(this).data("id"),sdtdl.dialogs.open()}).on("click touchend",".sdtdl-front .dashicons-arrow-down-alt2",function(){sdtdl.list.collapse()}).on("click touchend",".sdtdl-collapsed",function(){sdtdl.list.restore()}),t(function(){sdtdl.dialogs.init(),t(".sdtdl-list").css("visibility","visible")})}}).init()}(jQuery);